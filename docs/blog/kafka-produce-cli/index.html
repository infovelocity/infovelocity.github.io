<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Kafka - produce messages via cli - InfoVelocity - Empowering Businesses</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://infovelocity.iofavicon.png><link rel=stylesheet href=/css/style.min.0e6e4103ea313d4b7b76e25244a34c3c9ddec0c61a01a06435dc3177839f5c9e.css></head><body class='page page-work-single'><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-services><a href=/services/><span>Services</span></a></li><li class="menu-item-about us"><a href=/about/><span>About Us</span></a></li><li class=menu-item-blog><a href=/blog/><span>Blog</span></a></li><li class=menu-item-contact><a href=/contact/><span>Contact</span></a></li></ul></div><div id=wrapper class=wrapper><div class='header header-absolute'><div class=container><div class=logo><a href=https://infovelocity.io><img height=29px width=217px alt="Hugo Hero" src=/images/logo.svg></a></div><div class=logo-mobile><a href=https://infovelocity.io><img height=100px width=100px alt="Hugo Hero" src=/images/logo-mobile.jpg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-services><a href=/services/><span>Services</span></a></li><li class="menu-item-about us"><a href=/about/><span>About Us</span></a></li><li class=menu-item-blog><a href=/blog/><span>Blog</span></a></li><li class=menu-item-contact><a href=/contact/><span>Contact</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div id=hero class="hero-image hero-image-setheight" style=background-image:url(/blog/kafka-white.png)><div class=container><div class=hero-text><span class=hero-section>blog</span><h1>Producing Messages to Kafka via CLI</h1><p></p></div></div></div><div class="container pt-4 pt-md-10 pb-4 pb-md-10"><div class=h6><label style=float:left><b>Author: </b>Mian</label>
<label style=float:Right><b>Posted: </b>2023-08-02</label><br></div><div class="row justify-content-start"><div class="col-12 col-md-8"><div class="work work-single"><div class=content><p>Apache Kafka is a versatile platform for handling real-time data streams. One essential task is producing messages to Kafka topics. In this article, we&rsquo;ll explore how to produce Kafka messages using the command-line interface (CLI).</p><h2 id=prerequisites>Prerequisites</h2><p>Before you start, make sure you have the following:</p><ol><li>A running Kafka cluster.</li><li>Kafka command-line tools installed on your system (part of the Kafka distribution).</li></ol><h2 id=using-the-kafka-console-producer>Using the Kafka Console Producer</h2><p>The Kafka distribution comes with a powerful command-line tool called <code>kafka-console-producer</code> that allows you to produce messages to Kafka topics. Here&rsquo;s how you can use it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kafka-console-producer.sh --bootstrap-server &lt;kafka-broker&gt;:&lt;port&gt; --topic &lt;topic-name&gt;
</span></span></code></pre></div><ul><li><code>&lt;kafka-broker>:&lt;port></code>: Replace this with the address of your Kafka broker and the port it&rsquo;s running on.</li><li><code>&lt;topic-name></code>: Specify the Kafka topic you want to produce messages to.</li></ul><p>Once you run this command, you can start typing messages, and each line you enter will be treated as a separate message.
Producing Messages with a Key</p><p>Kafka messages can have both a key and a value. You can produce messages with a key using the
<code>--property "parse.key=true" --property "key.separator=:"</code> flags.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>
</span></span><span style=display:flex><span>kafka-console-producer.sh --bootstrap-server &lt;kafka-broker&gt;:&lt;port&gt; --topic &lt;topic-name&gt; --property <span style=color:#e6db74>&#34;parse.key=true&#34;</span> --property <span style=color:#e6db74>&#34;key.separator=:&#34;</span>
</span></span></code></pre></div><p>Now, when you enter messages, you can specify a key for each message by separating it with a colon (":").</p><h2 id=producing-messages-with-avro-serialization>Producing Messages with Avro Serialization</h2><p>If your Kafka topic uses Avro serialization for messages, you can produce and serialize Avro messages using the &ndash;property value.serializer=io.confluent.kafka.serializers.KafkaAvroSerializer properties:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>
</span></span><span style=display:flex><span>kafka-console-producer.sh --bootstrap-server &lt;kafka-broker&gt;:&lt;port&gt; --topic &lt;topic-name&gt; --property value.serializer<span style=color:#f92672>=</span>io.confluent.kafka.serializers.KafkaAvroSerializer --property schema.registry.url<span style=color:#f92672>=</span>&lt;schema-registry-url&gt;
</span></span></code></pre></div><ul><li><code>&lt;schema-registry-url></code>: Replace this with the URL of your Avro schema registry.</li></ul><h2 id=conclusion>Conclusion</h2><p>In this article, we&rsquo;ve covered the essentials of producing messages to Kafka via the command-line interface (CLI). This approach is useful for quickly testing and sending messages to Kafka topics without writing custom producer code. The kafka-console-producer tool is a valuable utility that every Kafka developer should be familiar with.</p></div></div></div></div></div></div><div class=footer><div class=container><div class=row><div class=col-12><div class=footer-inner><ul class=social><li><a href=https://github.com/infovelocity target=blank><img width=20 height=20 src=/social/github.svg title=Github alt=Github></a></li><li><a href=https://twitter.com/infovelocityio target=blank><img width=20 height=20 src=/social/twitter.svg title=Twitter alt=Twitter></a></li><li><a href=https://linkedin.com/infovelocity target=blank><img width=20 height=20 src=/social/linkedin-white.png title=Linkedin alt=Linkedin></a></li></ul><ul class=footer-menu><li>Registered in England</li><li>Company number: 14919004</li><li><a href=https://infovelocity.io/policy/carbon-reduction/>Carbon reduction plan</a></li><li><a href=https://infovelocity.io/policy/slavery-policy/>Modern slavery policy</a></li><li><a href=https://infovelocity.io/policy/privacy-policy/>Privacy policy</a></li></ul><ul class="footer footer-custom"><li><a href=https://infovelocity.io>Home</a></li><li><a href=https://infovelocity.io/about>About us</a></li><li><a href=https://infovelocity.io/services>Our Services</a></li><li><a href=https://infovelocity.io/blog>Articles</a></li><li><a href=https://infovelocity.io/contact>Contact us</a></li></ul><div style=flex-direction:row><a href=https://www.ncsc.gov.uk/cyberessentials/overview><img src=/Cyber.png alt="cyber certified" style=width:160px></a>
<a href=https://www.crowncommercial.gov.uk/><img src=/CCS_BLK.png alt="crown commercial" style=width:150px></a></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul></ul><ul><li class=copyright style=font-weight:700;color:#fff;text-decoration:none>Â© 2023 <a style=color:#fff href=https://www.infovelocity.io>InfoVelocity - Empowering Businesses</a></li></ul></div></div></div></div></div><script type=text/javascript src=/js/services.min.9107b65a7df0422d8a274963e6b560062a6cdf62185570cfd584b43defa67279.js></script>
<script type=text/javascript src=/js/scripts.min.8504133605a277da18f0d58cfd2e90d154962f4a961543a6e2f0a459a2d05462.js></script></body></html>